(this["webpackJsonpbeneficiarios-auxilio"]=this["webpackJsonpbeneficiarios-auxilio"]||[]).push([[0],{26:function(e,n,t){e.exports=t(50)},31:function(e,n,t){},49:function(e,n,t){e.exports=t.p+"static/media/undraw-search.cc5062b1.svg"},50:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(18),o=t.n(i),c=(t(31),t(19)),s=t(20),u=t(25),l=t(24),d=t(5),f=t.n(d),p=t(1),h=t(2);function m(){var e=Object(p.a)(["\n  outline: none;\n  color: #49536B;\n  border: transparent;\n  padding: 3px 8px;\n  border-radius: 50px;\n  background-color: white;\n  height: 2.5rem;\n  width: 6rem;\n  font-weight: bold;\n  box-shadow: 0px 0px 5px #858CA2;\n\n  &:hover{\n    cursor: pointer;\n  }\n"]);return m=function(){return e},e}function b(){var e=Object(p.a)(["\n  outline: none;\n  border: none;\n  font-size: 1.2rem;\n  background-color: transparent;\n  color: #49536B;\n  padding: 0 5px;\n  margin: 0 8px;\n  width: inherit;\n\n  &::placeholder{\n    color: #BCBCC8;\n  }\n"]);return b=function(){return e},e}function g(){var e=Object(p.a)(["\n  display: flex;\n  align-items: center;\n  padding: 8px;\n  border-radius: 30px;\n  background-color: #F1F1F8;\n  color: #49536B;\n  box-shadow: 0px 0px 8px #858CA2;\n\n  @media(max-width: 450px){\n    width: 75%;\n  }\n\n  .SearchIcon{\n    color: #49536B;\n    font-size: 1.6rem;\n    margin: 0px 6px;\n  }\n"]);return g=function(){return e},e}var x=h.a.div(g()),v=h.a.input(b()),w=h.a.button(m()),y=function(e){return e.children},E=function(e){return r.a.createElement(y,null,r.a.createElement(x,null,r.a.createElement("i",{className:"fas fa-search SearchIcon"}),r.a.createElement(v,{onChange:e.changed,placeholder:"S\xe3o Paulo"}),r.a.createElement(w,{onClick:e.search},"Pesquisar")))};function C(){var e=Object(p.a)(["\n  width: 100%;\n  height: 150px;\n  margin: 30px;\n"]);return C=function(){return e},e}function j(){var e=Object(p.a)(["\n  position: relative;\n  margin-top: 16px;\n  display: ",";\n\n  @media(max-width: 680px){\n    flex-direction: column;\n    margin-top: 32px;\n    width: 90%;\n  }\n"]);return j=function(){return e},e}function B(){var e=Object(p.a)(["\n  color: #eb4034;\n  font-size: 1.2rem;\n  padding: 5px;\n"]);return B=function(){return e},e}function S(){var e=Object(p.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: ",";\n  flex-direction: column;\n  height: 100vh;\n"]);return S=function(){return e},e}var O=h.a.div(S(),(function(e){return e.centralized?"center":"flex-start"})),k=h.a.h1(B()),I=h.a.div(j(),(function(e){return e.show?"flex":"none"})),q=h.a.img(C());function A(){var e=Object(p.a)(["\n  width: 90px;\n  height: 90px;\n  background-color: #fff;\n  border-radius: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-shadow: 0px 0px 2px #858CA2;\n  font-size: 2.5rem;\n  \n  .fa-users{\n    color: #5978CE;\n  }\n\n  .fa-coins{\n    color: #ceb159;\n  }\n\n  .fa-venus{\n    color: #ce5967;\n  }\n\n"]);return A=function(){return e},e}function z(){var e=Object(p.a)(["\n  border-radius: 8px;\n  box-shadow: 0px 0px 5px #858CA2;\n  padding: 28px;\n  display: flex;\n  justify-items: center;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n  margin: 8px;\n"]);return z=function(){return e},e}var R=h.a.div(z()),M=h.a.div(A()),F=function(e){return r.a.createElement(R,null,r.a.createElement(M,null,r.a.createElement("i",{className:"".concat(e.icon)})),r.a.createElement("p",null,e.title),r.a.createElement("p",null,e.data))};function L(){var e=Object(p.a)(["\n  position: absolute;\n  background-color: rgba(0,0,0,0.5);\n  width: 100vw;\n  height: 100vh;\n  display: ",";\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  color: #ffffa3;\n\n  .fa-spinner{\n    color: #eded28;\n    animation: spinning 1s infinite; \n    font-size: 2.5rem; \n  }\n\n  @keyframes spinning {\n    from{\n      transform: rotate(0deg);\n    }\n    to{\n      transform: rotate(360deg);\n    }\n  }\n"]);return L=function(){return e},e}var N=h.a.div(L(),(function(e){return e.show?"flex":"none"})),J=function(e){var n=["As requisi\xe7\xf5es podem demorar um pouco.","Buscando informa\xe7\xf5es sobre a cidade...","Isso pode demorar um minuto.","Acessando o portal transpar\xeancia."];return r.a.createElement(N,{show:e.show},r.a.createElement("i",{className:"fas fa-spinner"}),r.a.createElement("p",null,n[Math.floor(Math.random()*n.length)]))},P={Accept:"*/*","chave-api-dados":"5aecd3bc98d291bef3a214c8ec827981","Content-Type":"application/json"},T=function(e){Object(u.a)(a,e);var n=Object(l.a)(a);function a(){var e;Object(c.a)(this,a);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).state={city:null,benefited:0,reais:0,cityCode:null,error:!1,errorInRequest:0},e.searchBenefitedByMonth=function(n,t){var a="https://cors-anywhere.herokuapp.com/http://www.portaltransparencia.gov.br/api-de-dados/auxilio-emergencial-por-municipio?mesAno=".concat(n,"&codigoIbge=").concat(t,"&pagina=1");f.a.get(a,{headers:P}).then((function(n){var t=n.data[0].quantidadeBeneficiados,a=e.state.benefited+t,r=n.data[0].valor,i=e.state.reais+r;e.setState({benefited:a,reais:i})})).catch((function(n){var t=e.state.errorInRequest;e.setState({errorInRequest:t+1}),t>2&&e.setState({error:!0})}))},e.requestBenefited=function(){for(var n=["202004","202005","202006","202007"],t=e.state.cityCode,a=0;a<n.length;a++)e.searchBenefitedByMonth(n[a],t)},e.searchCityCode=function(){var n=e.state.city;if(null!==n){n=e.clearString(n);var t="https://servicodados.ibge.gov.br/api/v1/localidades/municipios/".concat(n);f.a.get(t).then((function(n){0!==n.data.length?(e.state.error&&e.setState({error:!1}),e.setState({cityCode:n.data.id,errorInRequest:0}),e.requestBenefited()):e.setState({error:!0})})).catch((function(n){e.setState({error:!0})})),e.setState({benefited:0,reais:0})}},e.changed=function(n){var t=n.target.value;e.setState({city:t})},e.clearString=function(e){for(var n=e.toLowerCase().replace(/ /g,"-"),t=0;t<"\xe1\xe0\xe3\xe2\xe9\xe8\xea\xeb\xec\xed\xee\xef\xf3\xf5\xf2\xf4\xf9\xfa\xfb\xfc\xe7".length;t++)n=n.replace("\xe1\xe0\xe3\xe2\xe9\xe8\xea\xeb\xec\xed\xee\xef\xf3\xf5\xf2\xf4\xf9\xfa\xfb\xfc\xe7"[t],"aaaaeeeeiiiioooouuuuc"[t]);return n},e.loading=null,e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(O,{centralized:0===this.state.benefited},r.a.createElement(q,{src:t(49),alt:"Illustration search box"}),this.state.error?r.a.createElement(k,null,"Cidade n\xe3o encontrada"):null,r.a.createElement(E,{changed:function(n){return e.changed(n)},search:this.searchCityCode}),r.a.createElement(J,{show:0===this.state.benefited&&null!==this.state.cityCode&&!1===this.state.error}),r.a.createElement(I,{show:this.state.benefited>0},r.a.createElement(F,{icon:"fas fa-users",title:"Total de beneficiados:",data:this.state.benefited}),r.a.createElement(F,{icon:"fas fa-coins",title:"Reais distribu\xeddos:",data:this.state.reais.toLocaleString("pt-br",{style:"currency",currency:"BRL"})}),r.a.createElement(F,{icon:"fas fa-venus",title:"Chefes de fam\xedlia:",data:(this.state.reais-600*this.state.benefited)/600})))}}]),a}(a.Component);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.3a5a5a3d.chunk.js.map